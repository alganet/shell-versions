# SPDX-FileCopyrightText: 2026 Alexandre Gomes Gaigalas <alganet@gmail.com>
# SPDX-License-Identifier: ISC
--- src/lib/libast/features/float
+++ src/lib/libast/features/float
@@ -89,6 +89,7 @@
 	#if _hdr_values
 	#include <values.h>
 	#endif
+	#include <string.h>
 
 	#if !defined(FLT_MIN_EXP) && defined(FMINEXP)
 	#define FLT_MIN_EXP	FMINEXP
@@ -1175,10 +1176,16 @@
 	#endif
 	#ifdef LDBL_MAX
 		{
-			long double	f = LDBL_MAX;
+			long double	f;
 	#if DIV
 			long double	z = 0;
+	#endif
+
+			/* clear padding before assignments to keep byte pattern stable */
+			memset(&f, 0, sizeof(f));
+			f = LDBL_MAX;
+	#if DIV
 
 			f = 0.0 / z;
 			if (!f)
